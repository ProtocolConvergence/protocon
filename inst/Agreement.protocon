
protocol Agreement;

constant N := 5;
constant M := N;

variable x[Nat % N] <- Nat % M;

process P[i <- Nat % N]
{
  read:  x[i-1];
  write: x[i];
  read: x[i+1];
  legit: (x[i-1] - x[i]) % M == (x[i] - x[i+1]) % M;
  //legit: (x[i-1] == x[i]);
}

//invariant:
//  (unique i <- Nat % N : x[i] == 0)
//  ;

