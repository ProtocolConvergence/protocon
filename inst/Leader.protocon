
protocol Leader;

constant N := 3;
constant M := 5;

direct variable d[Int % N] <- Int % 2;
puppet variable x[Int % N] <- Int % M;

process P[i <- Int % N]
{
  read:  d[i-1], x[i-1];
  write: d[i], x[i];
  read:  d[i+1], x[i+1];
}

shadow invariant:
  (unique i <- Int % N : d[i] == 1);

